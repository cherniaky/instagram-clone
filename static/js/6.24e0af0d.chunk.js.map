{"version":3,"sources":["assets/login-page.jpg","assets/logo.png","pages/signup.js"],"names":["SignUp","navigate","useNavigate","useContext","FirebaseContext","auth","db","createUserWithEmailAndPassword","useState","username","setUsername","fullName","setFullName","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","HandleSignUp","event","a","preventDefault","usernameExist","doesUsernameExist","console","log","createdUserResult","addDoc","collection","userId","user","uid","toLowerCase","following","followers","dateCreated","Date","now","ROUTES","message","useEffect","document","title","className","src","loginImg","alt","logo","onSubmit","type","placeholder","onChange","target","value","disabled","to"],"mappings":"8IAAe,QAA0B,wC,gCCA1B,kiK,yMCUA,SAASA,IACpB,IAAMC,EAAWC,cACjB,EAIIC,qBAAWC,KAHXC,EADJ,EACIA,KACAC,EAFJ,EAEIA,GACAC,EAHJ,EAGIA,+BAEJ,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAwCJ,mBAAS,IAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAgCN,mBAAS,IAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KAEA,EAA0BR,mBAAS,IAAnC,mBAAOS,EAAP,KAAcC,EAAd,KACMC,EAAwB,IAAZJ,GAAkC,IAAhBF,EAE9BO,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACjBD,EAAME,iBAEAC,EAAgBC,YAAkBhB,GACxCiB,QAAQC,IAAIH,GAJK,SAKJA,EALI,2DAOuBjB,EAC5BF,EACAQ,EACAE,GAVK,cAOHa,EAPG,iBAiBHC,YAAOC,YAAWxB,EAAI,SAAU,CAClCyB,OAAQH,EAAkBI,KAAKC,IAC/BxB,SAAUA,EAASyB,cACnBvB,WACAE,aAAcA,EAAaqB,cAC3BC,UAAW,GACXC,UAAU,GACVC,YAAaC,KAAKC,QAxBb,QA0BTtC,EAASuC,KA1BA,kDA4BT5B,EAAY,IACZE,EAAgB,IAChBE,EAAY,IACZN,EAAY,IACZQ,EAAS,KAAMuB,SAhCN,gCAmCbvB,EAAS,kCAnCI,0DAAH,sDA8ClB,OAPAwB,qBAAU,WAEN,OADAC,SAASC,MAAQ,sBACV,WACHD,SAASC,MAAQ,eAEtB,IAGC,sBAAKC,UAAU,uBAAf,UACI,qBAAKA,UAAU,YAAYC,IAAKC,IAAUC,IAAI,WAC9C,sBAAKH,UAAU,uBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,qBAAKA,UAAU,aAAaC,IAAKG,MAEhChC,GAAS,qBAAK4B,UAAU,QAAf,SAAwB5B,IAElC,uBAAMiC,SAAU9B,EAAcyB,UAAU,SAAxC,UACI,uBACIM,KAAK,OACLC,YAAY,WACZC,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OACT5C,EAAY4C,EAAOC,QAEvBA,MAAO9C,IAEX,uBACI0C,KAAK,OACLC,YAAY,YACZC,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OACT1C,EAAY0C,EAAOC,QAEvBA,MAAO5C,IAEX,uBACIwC,KAAK,OACLC,YAAY,eACZC,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OACTxC,EAAgBwC,EAAOC,QAE3BA,MAAO1C,IAEX,uBACIsC,KAAK,WACLC,YAAY,WACZC,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OACTtC,EAAYsC,EAAOC,QAEvBA,MAAOxC,IAEX,wBACIyC,SAAUrC,EACVgC,KAAK,SACLN,UAAS,wBACL1B,EAAY,aAAe,IAJnC,2BAYR,sBAAK0B,UAAU,qBAAf,6BACqB,IACjB,cAAC,IAAD,CAAMA,UAAU,OAAOY,GAAIjB,IAA3B","file":"static/js/6.24e0af0d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/login-page.a82193c4.jpg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAA6CAMAAADPwpb5AAAC/VBMVEUAAAAjHyAjHyD///8jICAkHyQjHyAnISFAIEAjICAkJCQkICEjHyAoIiIjHyArKyskJCQlISFVVVUjICGAgIAnISEkHyEkICElHyUkHyAuLi4jICMjICEuIyMjICEpIyNAQEAoIiIjICIlICUmISEkICEjICMkISEpKSkkICAjICElHyEzMzMlIiIkICQjICEkHyEkICEkICEkICAmIiI5OTkmJiYlICIjHyAnJycmISEoKCgjHyEkICEkJCQlHyIjICIkICAkHyEjIyMjICEkICAkHyElICAkICAkHyEkHyEkISEkHyEkJCQjICEkHyAlHyIkICEkHyAnJyckICEjHyEsISEpIiIkICEjICAkISEkICAjHyMrICskICAkISEkHyAjIyMjIyMrKyskHyAkICEkISEjICEmIiIkICQmJiYrKyskHyEjIyMjHyEkICEzMzMkHyAoICgzIiItLS0jICAkISEnIyMkHyEpISEkICAmIiIjICAkHyIkIiIkICInIyMkICAkICAjICEkHyAmJiYmICYkICEkICAkHyAkICIlICAkICAkHyIjHyEjHyAkHyAlISEkICIjICEkICAmIiIkHyEkICAkICAlIiIjICAkICEjHyElIiIkICAkHyAkISEjHyEkISEkICEkJCQkJCQkISEkISEnJycjICIlICIkHyAjISEkICEkICAkICIkICEjICAkHyEkJCQjICEkHyIkHyElISEjICAjICAjHyAlICAkHyAlISErIiIkICAkHyElICIjICEjICAlHyEkHyElISEjHyEkICElICMlISEmHyMjISEkHyEkICEkICAnIiIjHyEjICEmISEjHyEjISElICAjICEkICAjICAjICEkISEjHyEmICMjISElICAmHyIkJCQmICAkICAkHyEkICIkICEkHyQjISEkICIjISEjHyEmHyMkICAkICIjICAjICAkICAwIDAkICEkICEjHyEkISEkISEjHyEkICEkICIkICAkHyEkISEjHyBS+u4fAAAA/nRSTlMA/v0B9zH8LgjvMvn2JvUGHD4D8AIn+/Ep7AtQmRbgLAQtmDA9+EhrGb7YkgVLQNHjsOqHQwkUYeYhLxPM4ipSkLd6JOmWrG9PlPNk2yPo3lqx7Q3Qgxcl8ldOv0EYnlzkMx0S1MCM0jU4GwzrOsSpCvQgDxHfVkKrH35E52pbgTt/hsLcIij6z81pbtditO7FRXHaRzyi1o5Mp8i8U4/dRoJVwQcVhY0aiWjlbao/iKiuow7ZcpyEl6a9Z9V8Hs6TWZGti7N9w7pgdUlsm7KvNIrKNnNlduHHn6Bj01h0N0orX3eaeck5Znhey1GdcLa1pRC5uHtUlbuhgMakTZ7vQhMAAAq1SURBVHhe3dpldJZXEgfw/ysJb4i7EUggSYN7CCpFXRK8uBcrVlQKxYoVKFCsLZSylEJ1W2gLLVB3d5et29bX/2fPzCP3yYYPzYcckv19Gs5JOHeuzJ37AFzxnYv6N+2J8st+NeKpITmoVCY+SHVtAOVVjaITKpGc9rTNQ3mNopiMyiM3lYy4hiIa5TWS4lpUGmGSzfjfKDqgvD6guAKVRUlNkiNxKUUtlFcrijGoLGqTvB52OtVQXpsoeqGSWEYypQvwMEUdlFcPildQOWTIVvsewJPlTucqXzD9rS1FFBsfv/T5rQsP1UrAxfU8SfYDsJQiDH9Yg3SWdRwXVaAvyT0Sraaojj8smhfwKS6qy0myvm6d8qZzNpxlxLTFRdWcJLVVG/KH0wmUQN07fd36NtMGU7yzcsSNHXvmJ8MSCuCCAi2hjI7dxnyDC8k+gvK7hSR1So+adBr2ui4NtsLNtZ8tgEd07RgWXwLXdoqVMP5Uf4Av2PhkNpLSJsIjMOKLGI7bnwwciw54p7MV/lfs5vcj/QO6ZQHrpifA9unjrZIhVnV68iNYXr7t2TQYa0kGIa426XxL8oYMiMMRJIPNs+FYFEOS4cfgeJsiE65dw6kuC71I9r/LXY+My6iCLXb5GfHjKgCYdeGWYno9qq7Jz5NRi1tD9SbZLgmoliJ/+2gASIskueY1OGRwRRDNTWUb7JbssX6qX5xBdYiiMs3QFxQ74IiPou2JZhJshuXIDbT1XixBTQDoRPETEJe5esyUHGd5t9DWXn+pM0SCc8+/SFEXAGpQ5LWArSbJYoi7TDpTJWoDoE4kbVth6U6VGgvHqxSr3J02k6X9BZbbWFpXANhPsWf2Noqos1A/srTLIGIpxqOLj6ot0DKR6iXYBpGMTJLoFXONTpIoB4iVIILiKqhCH1U3uNqVLiF/pjjwZdzKrqRnddZvoOiVE32/j+7q3MpS7of4naLZjdPjD5BmdebYp6E5LdHASpofUGfcV8HjJp2H7GZ0BcmZXVJJ8lKoO6mC0+E6R5EGyzDdnZPnAJimIc9AvUNxs8nhPgn7RdGrOdzN0X+Y1M4BFE0hSijCAk3o7ve/09IdtthxJLVOTaGzxbDF+umWRaRvGVJI8gdzTekGMgZTyGl1D4O/lmdjPgNRGJT4VYihmuckiH0Snb/15u8pBgJAC4rbIY57SsUCirBckpHWUAv8ZHtqB+3IDyfrJQDYazpqrStpujg32Vv2K29j80sSjMYUBbBcSZL3QA00Q0Qfb/3bKPE1EN+RXAhgpHkLd5No5hGI0TSjLaSo04vc+LpE0/AGGfmmhA/A1SeF7APgJpPOTomSZd7HzbAnZSwsX5Fkk90wplJMhEqjeA9qGEVHs1IRSVDXU0ouxANkYsi5JpabGbkDFp38FyCGUlQvIvPfkCgXT5D7+1An3Yjfw76yTUw6a/VATbMuuDhnUCqkJyn8N7M+kygyvAuyBCpbz/zHEOnmDNhjP6A/0t9usTqT5CAzaueenkyS5yEKKHqQUzFWovw5UWSjFWWeJ0mLdgF4lEJL/0GJutSwdmEyRT4sJ2l5Ogu2hygaeAaaCph7jy20fFN8CGG/FP8l0cekv5+7Cg+banMnLPeQ5BSIOIrZkmqmRId3kO0Dt0t4FGWcp6jlLneHCGsTVqdoBHVvOue+S3Hiy1LpBKBeck6F0ms0XtsS79HBmzouiR6zD1rIp1vAnLJ1sPxkCt5ZCh9TCrFIj/PN5G3QdK5CGb0oPnHuVn5INgsByKX4CM5d+zmWUkQ1hCgJ6u7ztoC/wqZX1iztAs0dDfvhuwZA63D7xupiWo3rKEKw3E2SQyCW0FLXnuLP65K5uMSq/2X8jSLNXfmp9iLv8lyTS4K8LxY4rpV2gzY2j1BEmjJnjnFA6+nlEi6k6AeYBmSytcGbei6Aie5O9MP2kpn8ebSctDPrlMqIbLxnrt9SulFoy9qENEv1nSkRuILcYT53NJmv20UEYXmLJN+FJc6sayuK0bAstjuXuCD9ORDPaQ4B96ESLNWv/xOiNekMpaUEb+vXvRESXo0yHqDoIuEJqsEQC006jcjFgGkhlgLzgt7VmRPpbZDjTTd3hmKCWUNN5xRZA3A3Y6Tp7fJgq2k2Wz+qREl6ONVS+zf3ooza5nZfTrUa4hG3W0hozLlxUC11Ab8AmjKKImRGxb/C0soUkRtNnQECMdYRCAtnYpYnHWabs9MSar7PlIJo0i0h91E9Z8/ZZxAT18OoQaHD7U+zIhhLMQ3Ah+Sb8NbaPGSySW2KoZ4p2ehteLjPvGtGwTOuuoEDeq95zs58CTuacQCHKOqbz632ej5NlQUkm9O6ZmeZdLLcAssmUCMoWgCtY7inAWyNtBP5JII9epjUC6IoImMBM4Wfmn1/nffLXN0eni/bE8zWGE+xC6q+p8k55dkzn1EkAsiQ4Jzev75iGC9Q/Oxe4TwFc0r5DBJucabX7RMT+3NtKJfiDauaLKd4GWKWu7+BfIoHvU+KK6O4rQC2pAi3vatF90bFkWbmpZYRQdMv/EDRzrkkeyfpId8DY4wWlySzOgOhvqR4N/Yf2jtVa7pC68/XtCxDKE+CuwGMCg+P95lb/Feqx8zzIFVboR10jIBrkNtJfk7xPsRmqiKJV9DyCACMMn/13U4T8aAzXebdlQ5R5N2+WVSp5MH5mNCffHodkNaV6lGn7IaHoUUir7B6rMQlgFzX53bKHzKA5BSqJwGMHkDbXhj6EEsvAWaMozoMIGc4Y+6wt/KxmbT01BIa1GPklqr9wIQNbAWju2lz9dE0DrZ0WqLG241d+OnTc6k6JwBYRpE3mEycZ0/blvyw8z7mhWlpGDO01k52n6pJf73+8AC5McQNCTCStHgPWnCsMzcWSzi8z/ozxWQPPaSn5xVsZzuqQ6aHmaKZ6QYfsqgdg4UwOrv5YraWW7NsKkWmpS+9FocgrqVtoFYUh/93JGvaPjJmQlgMHaf1eHRtC68WKfaPhlfv6KOjBlCXwkcumkuRCxGS3fkNxFba6sPjW/OsOVrqDTHLp7M1UtuBFLp6nwxAta1H4dM3aoMnaNmWCWBfOEVeTyDTyeffM4aZRtXomUfhHwu87qfy358ALJhEdRQDnHZLRS+Lhrf8sV4JPOQ0xMyAyJLxbYXj2Uj6B8VBRXfqS9V3dQEc8z+LIosyoQKb+koye6dDzHqK5FP63Et+cQPpn7wPBY3NYfeoc4+PPKe37u41PjKy+2sQhXuDZPHrwHtyfJbHooxnapIbmo6GxbzEa8OSUC13GIy2r90LY+LlIxvGF6KUjDZhDeDqN21YwPxy9Sw37TYvzwC6XEmxBWWUhLlDygprY8YdqpMT0plKix+fgQsI9BsfQimHSGk5Kl5YV6q+qEi3kv6FqHjxqeTwVJI1UZHqMW8rKt6+IDl391q9CCrS2kHVUPE6ppBRjXBQW8IqLz+SDM+3XjE7UdXFR9ktZDN9HFZxS4qd/4AQJHkLqrg1JB+Kdf6lZgyqthEkfbvdbyJfo2rbrs8isYgkR6JKm+FzP1gfJxn+M6q0DiS3NXCfHLNRta1zHwUNIrReV23ZEeQJOB/dToRQxXUj+QGAs2+R/kxUdW0Pkim1N9XvrV/cqr4JTWlJ/w/+L+Seaty7/fZLFqCC/BeurBHHU/+LZgAAAABJRU5ErkJggg==\"","import FirebaseContext from \"../context/firebase\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport \"../styles/loginPage.css\";\r\nimport loginImg from \"../assets/login-page.jpg\";\r\nimport logo from \"../assets/logo.png\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport { doesUsernameExist } from \"../services/firebase\";\r\nimport { collection, query, where, getDocs, addDoc } from \"firebase/firestore\";\r\n\r\nexport default function SignUp() {\r\n    const navigate = useNavigate(); \r\n    const {\r\n        auth,\r\n        db,\r\n        createUserWithEmailAndPassword,\r\n    } = useContext(FirebaseContext);\r\n    const [username, setUsername] = useState(\"\");\r\n    const [fullName, setFullName] = useState(\"\");\r\n    const [emailAddress, setEmailAddress] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const isInvalid = password == \"\" || emailAddress == \"\";\r\n\r\n    const HandleSignUp = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const usernameExist = doesUsernameExist(username);\r\n        console.log(usernameExist);\r\n        if (!( await usernameExist) ) {\r\n            try {\r\n                const createdUserResult = await createUserWithEmailAndPassword(\r\n                    auth,\r\n                    emailAddress,\r\n                    password\r\n                );\r\n\r\n                // await createdUserResult.user.updateProfile({\r\n                //     displayName: username,\r\n                // });\r\n\r\n                await addDoc(collection(db, \"users\"), {\r\n                    userId: createdUserResult.user.uid,\r\n                    username: username.toLowerCase(),\r\n                    fullName,\r\n                    emailAddress: emailAddress.toLowerCase(),\r\n                    following: [],\r\n                    followers:[],\r\n                    dateCreated: Date.now(),\r\n                });\r\n                navigate(ROUTES.LOGIN);\r\n            } catch (error) {\r\n                setFullName(\"\");\r\n                setEmailAddress(\"\");\r\n                setPassword(\"\");\r\n                setUsername(\"\");\r\n                setError(error.message);\r\n            }\r\n        } else {\r\n            setError(\"This username is already taken\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.title = \"Sign Up - Instagram\";\r\n        return () => {\r\n            document.title = \"Instagram\";\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"login-page-container\">\r\n            <img className=\"login-img\" src={loginImg} alt=\"iphone\" />\r\n            <div className=\"login-form-container\">\r\n                <div className=\"login-form\">\r\n                    <img className=\"login-logo\" src={logo} />\r\n\r\n                    {error && <div className=\"error\">{error}</div>}\r\n\r\n                    <form onSubmit={HandleSignUp} className=\"inputs\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            onChange={({ target }) => {\r\n                                setUsername(target.value);\r\n                            }}\r\n                            value={username}\r\n                        />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Full name\"\r\n                            onChange={({ target }) => {\r\n                                setFullName(target.value);\r\n                            }}\r\n                            value={fullName}\r\n                        />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Email adress\"\r\n                            onChange={({ target }) => {\r\n                                setEmailAddress(target.value);\r\n                            }}\r\n                            value={emailAddress}\r\n                        />\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            onChange={({ target }) => {\r\n                                setPassword(target.value);\r\n                            }}\r\n                            value={password}\r\n                        />\r\n                        <button\r\n                            disabled={isInvalid}\r\n                            type=\"submit\"\r\n                            className={`submit-button ${\r\n                                isInvalid ? \"opacity-50\" : \"\"\r\n                            }`}\r\n                        >\r\n                            Sign up\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"login-form sign-up\">\r\n                    Have an account?{\" \"}\r\n                    <Link className=\"link\" to={ROUTES.LOGIN}>\r\n                        Log in\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"sourceRoot":""}